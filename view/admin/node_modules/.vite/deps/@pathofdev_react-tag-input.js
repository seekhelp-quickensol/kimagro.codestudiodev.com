import {
  require_react
} from "./chunk-D2P3IO6H.js";
import {
  __toESM
} from "./chunk-EWTE5DHJ.js";

// node_modules/@pathofdev/react-tag-input/build/module/index.js
var import_react3 = __toESM(require_react());

// node_modules/@pathofdev/react-tag-input/build/module/components/Tag.js
var import_react2 = __toESM(require_react());

// node_modules/@pathofdev/react-tag-input/build/module/utils/selectors.js
var classSelectors = {
  wrapper: "react-tag-input",
  input: "react-tag-input__input",
  tag: "react-tag-input__tag",
  tagContent: "react-tag-input__tag__content",
  tagRemove: "react-tag-input__tag__remove",
  tagRemoveReadOnly: "react-tag-input__tag__remove-readonly"
};

// node_modules/@pathofdev/react-tag-input/build/module/components/ContentEditable.js
var import_react = __toESM(require_react());

// node_modules/@pathofdev/react-tag-input/build/module/utils/functions.js
function removeLineBreaks(value) {
  return value.replace(/(\r\n|\n|\r)/gm, "");
}
var htmlEntityMap = {
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
  '"': "&quot;",
  "'": "&#39;",
  "/": "&#x2F;",
  "`": "&#x60;",
  "=": "&#x3D;"
};
function escapeHtml(value) {
  return String(value).replace(/[&<>"'`=\/]/g, function(s) {
    return htmlEntityMap[s];
  });
}
function safeHtmlString(value) {
  return escapeHtml(removeLineBreaks(value));
}

// node_modules/@pathofdev/react-tag-input/build/module/components/ContentEditable.js
var __extends = /* @__PURE__ */ function() {
  var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
      d2.__proto__ = b2;
    } || function(d2, b2) {
      for (var p in b2) if (b2.hasOwnProperty(p)) d2[p] = b2[p];
    };
    return extendStatics(d, b);
  };
  return function(d, b) {
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
var ContentEditable = function(_super) {
  __extends(ContentEditable2, _super);
  function ContentEditable2() {
    var _this = _super !== null && _super.apply(this, arguments) || this;
    _this.focused = false;
    _this.removed = false;
    _this.preFocusedValue = "";
    _this.onPaste = function(e) {
      e.preventDefault();
      var text = e.clipboardData.getData("text/plain");
      document.execCommand("insertHTML", false, safeHtmlString(text));
    };
    _this.onFocus = function() {
      _this.preFocusedValue = _this.getValue();
      _this.focused = true;
    };
    _this.onBlur = function() {
      _this.focused = false;
      var ref = _this.props.innerEditableRef.current;
      var _a = _this.props, validator = _a.validator, change = _a.change;
      if (!_this.removed && ref) {
        if (ref.innerText === "") {
          _this.props.remove();
          return;
        }
        if (validator) {
          var valid = validator(_this.getValue());
          if (!valid) {
            ref.innerText = _this.preFocusedValue;
            return;
          }
        }
        change(ref.innerText);
      }
    };
    _this.onKeyDown = function(e) {
      if (e.keyCode === 13) {
        e.preventDefault();
        _this.focusInputRef();
        return;
      }
      var removeOnBackspace = _this.props.removeOnBackspace;
      var value = _this.getValue();
      if (removeOnBackspace && e.keyCode === 8 && value === "") {
        _this.removed = true;
        _this.props.remove();
        _this.focusInputRef();
        return;
      }
    };
    _this.getValue = function() {
      var ref = _this.getRef();
      return ref ? ref.innerText : "";
    };
    _this.getRef = function() {
      return _this.props.innerEditableRef.current;
    };
    _this.focusInputRef = function() {
      var inputRef = _this.props.inputRef;
      if (inputRef && inputRef.current) {
        inputRef.current.focus();
      }
    };
    return _this;
  }
  ContentEditable2.prototype.componentDidMount = function() {
    this.preFocusedValue = this.getValue();
  };
  ContentEditable2.prototype.render = function() {
    var _a = this.props, value = _a.value, className = _a.className, innerEditableRef = _a.innerEditableRef;
    return import_react.default.createElement("div", { ref: innerEditableRef, className, contentEditable: true, onPaste: this.onPaste, onFocus: this.onFocus, onBlur: this.onBlur, onKeyDown: this.onKeyDown, dangerouslySetInnerHTML: { __html: safeHtmlString(value) } });
  };
  return ContentEditable2;
}(import_react.default.Component);

// node_modules/@pathofdev/react-tag-input/build/module/components/Tag.js
var __extends2 = /* @__PURE__ */ function() {
  var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
      d2.__proto__ = b2;
    } || function(d2, b2) {
      for (var p in b2) if (b2.hasOwnProperty(p)) d2[p] = b2[p];
    };
    return extendStatics(d, b);
  };
  return function(d, b) {
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
var Tag = function(_super) {
  __extends2(Tag2, _super);
  function Tag2() {
    var _this = _super !== null && _super.apply(this, arguments) || this;
    _this.innerEditableRef = import_react2.default.createRef();
    _this.remove = function() {
      return _this.props.remove(_this.props.index);
    };
    return _this;
  }
  Tag2.prototype.render = function() {
    var _a = this.props, value = _a.value, index = _a.index, editable = _a.editable, inputRef = _a.inputRef, validator = _a.validator, update = _a.update, readOnly = _a.readOnly, removeOnBackspace = _a.removeOnBackspace;
    var tagRemoveClass = !readOnly ? classSelectors.tagRemove : classSelectors.tagRemove + " " + classSelectors.tagRemoveReadOnly;
    return import_react2.default.createElement(
      "div",
      { className: classSelectors.tag },
      !editable && import_react2.default.createElement("div", { className: classSelectors.tagContent }, value),
      editable && import_react2.default.createElement(ContentEditable, { value, inputRef, innerEditableRef: this.innerEditableRef, className: classSelectors.tagContent, change: function(newValue) {
        return update(index, newValue);
      }, remove: this.remove, validator, removeOnBackspace }),
      import_react2.default.createElement("div", { className: tagRemoveClass, onClick: this.remove })
    );
  };
  return Tag2;
}(import_react2.default.Component);

// node_modules/@pathofdev/react-tag-input/build/module/index.js
var __extends3 = /* @__PURE__ */ function() {
  var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
      d2.__proto__ = b2;
    } || function(d2, b2) {
      for (var p in b2) if (b2.hasOwnProperty(p)) d2[p] = b2[p];
    };
    return extendStatics(d, b);
  };
  return function(d, b) {
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
var ReactTagInput = function(_super) {
  __extends3(ReactTagInput2, _super);
  function ReactTagInput2() {
    var _this = _super !== null && _super.apply(this, arguments) || this;
    _this.state = { input: "" };
    _this.inputRef = import_react3.default.createRef();
    _this.onInputChange = function(e) {
      _this.setState({ input: e.target.value });
    };
    _this.onInputKeyDown = function(e) {
      var input = _this.state.input;
      var _a = _this.props, validator = _a.validator, removeOnBackspace = _a.removeOnBackspace;
      if (e.keyCode === 13) {
        e.preventDefault();
        if (input === "") {
          return;
        }
        var valid = validator !== void 0 ? validator(input) : true;
        if (!valid) {
          return;
        }
        _this.addTag(input);
      } else if (removeOnBackspace && (e.keyCode === 8 || e.keyCode === 46)) {
        if (input !== "") {
          return;
        }
        _this.removeTag(_this.props.tags.length - 1);
      }
    };
    _this.addTag = function(value) {
      var tags = _this.props.tags.slice();
      tags.push(value);
      _this.props.onChange(tags);
      _this.setState({ input: "" });
    };
    _this.removeTag = function(i) {
      var tags = _this.props.tags.slice();
      tags.splice(i, 1);
      _this.props.onChange(tags);
    };
    _this.updateTag = function(i, value) {
      var tags = _this.props.tags.slice();
      tags[i] = value;
      _this.props.onChange(tags);
    };
    return _this;
  }
  ReactTagInput2.prototype.render = function() {
    var _this = this;
    var input = this.state.input;
    var _a = this.props, tags = _a.tags, placeholder = _a.placeholder, maxTags = _a.maxTags, editable = _a.editable, readOnly = _a.readOnly, validator = _a.validator, removeOnBackspace = _a.removeOnBackspace;
    var maxTagsReached = maxTags !== void 0 ? tags.length >= maxTags : false;
    var isEditable = readOnly ? false : editable || false;
    var showInput = !readOnly && !maxTagsReached;
    return import_react3.default.createElement(
      "div",
      { className: classSelectors.wrapper },
      tags.map(function(tag, i) {
        return import_react3.default.createElement(Tag, { key: i, value: tag, index: i, editable: isEditable, readOnly: readOnly || false, inputRef: _this.inputRef, update: _this.updateTag, remove: _this.removeTag, validator, removeOnBackspace });
      }),
      showInput && import_react3.default.createElement("input", { ref: this.inputRef, value: input, className: classSelectors.input, placeholder: placeholder || "Type and press enter", onChange: this.onInputChange, onKeyDown: this.onInputKeyDown })
    );
  };
  return ReactTagInput2;
}(import_react3.default.Component);
var module_default = ReactTagInput;
export {
  module_default as default
};
//# sourceMappingURL=@pathofdev_react-tag-input.js.map
